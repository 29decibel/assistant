{"name":"Assistant","tagline":"simple, extensible and powerful personal assistant","body":"## Assistant\r\nA super simple, extensible and powerful personal assistant, just like your shell, with the power of HTML.\r\n\r\n![short-intro](https://asistant-assets.s3.amazonaws.com/short-intro-video.gif)\r\n\r\n## What is that?\r\nAssistant is more like a [hubot](https://github.com/github/hubot) with rich HTML interface([Om](https://github.com/swannodette/om) component), or like a Siri on your desktop.\r\nIt consists of multiple dispatchers(processors) and cards.\r\nDispatcher(processor) process the text commands, then put the result into the result channel.\r\nAssistant will use the correspond card(a [Om](https://github.com/swannodette/om) component) to show the data.\r\n\r\n### Here is a simple diagram of how it works\r\n![assistant-structure](https://asistant-assets.s3.amazonaws.com/assistant-structure.jpg)\r\n\r\n## Build-in cards\r\n\r\n### image-list-card\r\n  ![image-list-card-hand-draw](https://s3.amazonaws.com/asistant-assets/assistant-list-image-card.png)\r\n\r\n  * Data Structure:\r\n\r\n  ```clojure\r\n  { :card :image-list-card\r\n    :content [\r\n      {:url \"http://example-url\" :image \"http://some-image-url/a.jpg\" :title \"Item title\"}\r\n      ...\r\n    ]\r\n  }\r\n  ```\r\n\r\n### list-card\r\n  ![list-card-hand-draw](https://s3.amazonaws.com/asistant-assets/assistant-list-card.png)\r\n\r\n  * Data Structure:\r\n\r\n  ```clojure\r\n  { :card :list-card\r\n    :content [\r\n      {:url \"http://example-url\" :title \"Item title\"}\r\n      ...\r\n    ]\r\n  }\r\n  ```\r\n\r\n### markdown-card\r\n\r\n  * Data Structure:\r\n\r\n  ```clojure\r\n  { :card :markdown-card\r\n    :content \"## Markdown title \\n Content area... \\n ![image](http://someawesome-image.jpg)\"\r\n  }\r\n  ```\r\n\r\n### info-card\r\n  Display `error`, `warn`, `info` or `success` information card to the user.\r\n\r\n  * Data Structure:\r\n\r\n  ```clojure\r\n  { :card :info-card\r\n    :content \"Your config not correct, please add :jenkins :username in your ~/.assistant\"}\r\n    :info-type \"error\" }\r\n  ```\r\n\r\n## Write your plugin\r\n1. Write a processor\r\n\r\n  A processor is just a function take a result channel and the text user typed in, then do what ever you want, at last\r\n  put the result into the chanel.\r\n\r\n  In this case, we make a request to Jira api, then put the JSON response into the channel and tell assistant to use jira card to\r\n  render the result.\r\n\r\n  ```clojure\r\n  (defn jira-dispatcher [result-chan text]\r\n    (go (let [response (<! (http/get (str endpoint \"/rest/api/2/issue/\" text) {:basic-auth {:username username :password password}}))\r\n              m (:body response)\r\n              error (:errorMessages m)\r\n              issue-key (:key m)]\r\n          (when issue-key\r\n            (>! result-chan {:type :jira :content m :input text})))))\r\n  ```\r\n\r\n2. Write a card\r\n\r\n  You don't have to write a card to show the result of your stuff, we have some built in cards.\r\n  But if those cards not what you want, then you can always easily wrap your own.\r\n  Here is a simple card(Om component) of for Jira issue.\r\n\r\n  ```clojure\r\n  (defn jira-view [data owner]\r\n    (reify\r\n      om/IRender\r\n      (render [_]\r\n              (dom/div #js {:className \"clearfix\"}\r\n                       (common/link (str endpoint \"/browse/\" (:input data)) (dom/h4 nil (-> data :content :key) \"  \" (-> data :content :fields :summary)))\r\n                       (dom/p #js {:dangerouslySetInnerHTML #js {:__html (clojure.string/replace (or\r\n  ```\r\n\r\n3. Register\r\n\r\n  * Register processor\r\n    ```clojure\r\n    (register-card :jira jira-view)\r\n    ```\r\n\r\n  * Register card\r\n    ```clojure\r\n    (register-dispatcher :jira jira-dispatcher \"jira [issue-number] -- find jira issue\")\r\n    ```\r\n\r\n  * Register CSS(optional)\r\n    If you want to provide customized CSS to your component, you can do that through ```register-css```:\r\n    ```clojure\r\n    (register-css [:.jenkins-card\r\n                   [:code {:max-height \"30px\" :height \"30px\" :overflow \"auto\"}]\r\n                   [:a {:display \"inline-block\" :min-width \"200px\"}]])\r\n    ```\r\n\r\n  * Register plugin namespace\r\n    Add your plugin namespace name to `~/.assistant-plugins` file:\r\n    ```\r\n    # here is a list of your awesome plugins you want to enabled\r\n    # WARN: If your plugin used dash, then you need to convert it to underscore, since it's javascript\r\n    #       assistant.plugins.your-awesome-plugin --> assistant.plugins.your_awesome_plugin\r\n    assistant.plugins.your_awesome_plugin\r\n    ```\r\n\r\n  Here is a source code of [example plugin for looking up Clojure doc](src/assistant/services/clojure-doc.cljs).\r\n\r\n4. Build\r\n\r\n  ```bash\r\n  lein cljsbuild clean\r\n  lein cljsbuild once\r\n  ```\r\n\r\n5. Build standalone app\r\n\r\n  ```bash\r\n  lein node-webkit-build\r\n  ```\r\n\r\n## Core APIs\r\n\r\n  1. `assistant.core/register-dispatcher`\r\n    > Register your dispatcher/processor.\r\n\r\n    ```clojure\r\n    (register-dispatcher :dribble dribbble-dispatcher \"dribble -- show popular designs from dribbble\")\r\n    ```\r\n\r\n  2. `assistant.core/register-card`\r\n    > Register your custom card.\r\n\r\n    ```clojure\r\n    (register-card :jira jira-card)\r\n    ```\r\n\r\n  3. `assistant.core/register-css`\r\n    > Using [noprompt/garden](https://github.com/noprompt/garden) to register your custom css for your card.\r\n\r\n    ```clojure\r\n    (register-css [:.map\r\n                   [:iframe {:width \"100%\" :height \"400px\" :border \"none\"}]\r\n                   [:img {:margin-top \"2px auto\"}]])\r\n    ```\r\n\r\n  4. `assistant.core/valid-config`\r\n    > Check if given config exists. If not then show a error card.\r\n\r\n    ```clojure\r\n    ;; Here is a example how to check config informations\r\n    (defn check-jenkins-config []\r\n      (and (valid-config [:jenkins :host] \"Please make sure following config exists in your ~/.assistant: :jenkins {:host}\")\r\n           (valid-config [:jenkins :token] \"Please make sure following config exists in your ~/.assistant: :jenkins {:token }\")\r\n           (valid-config [:jenkins :username] \"Please make sure following config exists in your ~/.assistant: :jenkins {:username}\")\r\n           (valid-config [:jenkins :password] \"Please make sure following config exists in your ~/.assistant: :jenkins {:password}\")))\r\n    ```\r\n\r\n## TODO\r\n* Add a general card for errors(configuration checking)\r\n* Add `clear` command to clear all cards\r\n* markdown-card\r\n* Pipes (dispatcher can pass result/clojure data structure to next dispatcher)\r\n* Storage service support\r\n* Check required parameters\r\n* System services\r\n* ~~Generic cards(List Card, Image Card, Readable Article List Card, JSON Viewer Card)~~\r\n* ~~Auto save app state~~\r\n* ~~Command line like style~~\r\n* ~~Create dot file if not exists~~\r\n\r\n## More cards\r\n* Weather -- https://github.com/erikflowers/weather-icons\r\n* Movie Showtime -- https://developer.fandango.com/io-docs\r\n* Hotel price search -- http://developer.ean.com/docs/common/\r\n* Flight number look up\r\n* Fantastical like Calendar\r\n* Flight price search\r\n* ~~Dribble popular designs~~\r\n* ~~Jenkins~~\r\n\r\n\r\n## Inspired by\r\n* [github/hubot](https://github.com/github/hubot)\r\n* [bhauman/devcards](https://github.com/bhauman/devcards)\r\n* [Her](http://www.imdb.com/title/tt1798709/)\r\n\r\n## Credits goes to\r\n* [clojure/clojure](https://github.com/clojure/clojure)\r\n* [clojure/clojurescript](https://github.com/clojure/clojurescript)\r\n* [facebook/react](https://github.com/facebook/react)\r\n* [swannodette/om](https://github.com/swannodette/om)\r\n* [rogerwang/node-webkit](https://github.com/rogerwang/node-webkit)\r\n* [clojure/core.async](https://github.com/clojure/core.async)\r\n* [cognitect/transit-cljs](https://github.com/cognitect/transit-cljs)\r\n* [noprompt/garden](https://github.com/noprompt/garden)\r\n\r\n__Build with â™¥ Clojure+Clojurescript.__\r\n","google":"UA-55361851-1","note":"Don't delete this file! It's used internally to help with page regeneration."}